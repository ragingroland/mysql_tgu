CREATE DATABASE clinic;

USE clinic;

CREATE TABLE ПАЦИЕНТ (
    ID_Пациента INT NOT NULL AUTO_INCREMENT,
    ФИО VARCHAR(100) NOT NULL,
    СНИЛС VARCHAR(50) NOT NULL,
    PRIMARY KEY (ID_Пациента)
);

INSERT INTO ПАЦИЕНТ (ФИО, СНИЛС)
VALUES
    ('Иванов Иван Иванович', '123-456-789 01'),
    ('Петров Петр Петрович', '234-567-890 12'),
    ('Сидорова Елена Владимировна', '345-678-901 23'),
    ('Козлова Ольга Петровна', '456-789-012 34'),
    ('Николаева Анна Алексеевна', '567-890-123 45'),
    ('Кузнецов Дмитрий Сергеевич', '678-901-234 56'),
    ('Васильева Марина Игоревна', '789-012-345 67'),
    ('Лебедев Алексей Александрович', '890-123-456 78'),
    ('Соколов Игорь Викторович', '901-234-567 89'),
    ('Морозова Наталья Васильевна', '012-345-678 90');


CREATE TABLE ВРАЧ (
    ID_Врача INT NOT NULL AUTO_INCREMENT,
    ФИО VARCHAR(100) NOT NULL,
    Специализация VARCHAR(50) NOT NULL,
    PRIMARY KEY (ID_Врача)
);

INSERT INTO ВРАЧ (ФИО, Специализация)
VALUES
    ('Петрова Анна Ивановна', 'Терапевт'),
    ('Смирнов Иван Петрович', 'Окулист'),
    ('Козлова Елена Сергеевна', 'Хирург'),
    ('Иванов Дмитрий Алексеевич', 'Педиатр'),
    ('Соколова Ольга Викторовна', 'Невролог'),
    ('Николаев Алексей Васильевич', 'Кардиолог'),
    ('Медведева Марина Дмитриевна', 'Эндокринолог'),
    ('Васильев Игорь Александрович', 'Гинеколог'),
    ('Попова Наталья Игоревна', 'Уролог'),
    ('Кузнецов Александр Степанович', 'Отоларинголог');


CREATE TABLE ЗАБОЛЕВАНИЕ (
    Код_Заболевания INT NOT NULL AUTO_INCREMENT,
    Расшифровка VARCHAR(255) NOT NULL,
    PRIMARY KEY (Код_Заболевания)
);

INSERT INTO ЗАБОЛЕВАНИЕ (Расшифровка)
VALUES
    ('Грипп'),
    ('Катаракта'),
    ('Аппендицит'),
    ('Гастрит'),
    ('Мигрень'),
    ('Ишемическая болезнь сердца'),
    ('Диабет'),
    ('Миома матки'),
    ('Простуда'),
    ('Остеохондроз');


CREATE TABLE ПРИЁМ (
    Пациент INT NOT NULL,
    Врач INT NOT NULL,
    Дата_приёма DATETIME NOT NULL,
    FOREIGN KEY (Пациент) REFERENCES ПАЦИЕНТ(ID_Пациента),
    FOREIGN KEY (Врач) REFERENCES ВРАЧ(ID_Врача),
    PRIMARY KEY (Пациент, Врач, Дата_приёма)
);

INSERT INTO ПРИЁМ (Пациент, Врач, Дата_приёма)
VALUES
    (1, 2, '2024-06-15 10:00:00'),
    (2, 4, '2024-06-16 11:30:00'),
    (3, 6, '2024-06-17 14:15:00'),
    (4, 8, '2024-06-18 09:45:00'),
    (5, 10, '2024-06-19 13:00:00'),
    (6, 1, '2024-06-20 16:30:00'),
    (7, 3, '2024-06-21 08:00:00'),
    (8, 5, '2024-06-22 12:45:00'),
    (9, 7, '2024-06-23 10:30:00'),
    (10, 9, '2024-06-24 15:00:00');


CREATE TABLE ДИАГНОЗ (
    Пациент INT NOT NULL,
    Врач INT NOT NULL,
    Код_заболевания INT NOT NULL,
    FOREIGN KEY (Пациент) REFERENCES ПАЦИЕНТ(ID_Пациента),
    FOREIGN KEY (Врач) REFERENCES ВРАЧ(ID_Врача),
    FOREIGN KEY (Код_заболевания) REFERENCES ЗАБОЛЕВАНИЕ(Код_Заболевания),
    PRIMARY KEY (Пациент, Врач, Код_заболевания)
);

INSERT INTO ДИАГНОЗ (Пациент, Врач, Код_заболевания)
VALUES
    (1, 2, 1),
    (2, 4, 2),
    (3, 6, 3),
    (4, 8, 4),
    (5, 10, 5),
    (6, 1, 6),
    (7, 3, 7),
    (8, 5, 8),
    (9, 7, 9),
    (10, 9, 10);

