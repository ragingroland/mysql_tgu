ЗАДАНИЕ 2.1 (prog_school.jpg)
Создать ER-модель предметной области на ваш выбор. Кол-во сущностей от 5 штук, связей от 4 шт.

ЗАДАНИЕ 2.2
Реализовать запросы для создания связанных таблицы по типу 1:1, 1:М и М:М по
приведенной ниже структуре.
Дополнительное задания (необязательное):
Реализовать NOT NULL поля (по вашему желанию), а также следующие ограничения
целостности:
 Год рождения более 1900, но менее 2008
 Цена продукта более 100.00 У.Е.
 Кол-во продукта более 0 ед., но менее 10000 ед.
 Кол-во продукта в заказе не более 30ед., а также не превышающее значение кол-ва
товара.
 Не дублировать одни и те же позиции заказа. (связь М:М не должна дублироваться,
к примеру: у пользователя id=5 уже есть заказ продукта id=7, при повторной
попытке внести данный продукт в заказ пользователь получает ошибку).
Пользователи(Users)
Фамилия (second_name) Символьный( до 100 символов)
Имя (first_name) Символьный( до 100 символов)
Год рождения (year) Целочисленный
Информация о пользователе(UserInfo) – тип 1:1
Email (email) Символьный( до 100 символов)
Адрес (address) Символьный( до 300 символов)
Внешний ключ пользователь (UserId)
Продукт(Product)
Наименование (name) Символьный( до 100 символов)
Описание (description) Текстовый
Кол-во (count) Целочисленный
Цена (price) Число с точкой (8 символов всего, 2 после
запятой)
Заказы(Orders) – тип М:М
Внешний ключ пользователь (UserId) Внешний ключ FK
Внешний ключ продукт (ProductId) Внешний ключ FK
Кол-во (Count) Целочисленный
Анонимный отзыв(Comment) – тип 1:М
Текст(text) Текстовый
Внешний ключ продукт (ProductId) Внешний ключ FK

ЗАДАНИЕ 2.3
Реализовать запросы для создания связанных таблицы по типу 1:1, 1:М и М:М по
приведенной ниже структуре.
Дополнительное задания (необязательное):
Реализовать NOT NULL поля (по вашему желанию), а также следующие ограничения
целостности:
 Год рождения более 1900, но менее 2008
 Цена продукта более 100.00 У.Е.
 Кол-во продукта более 0 ед., но менее 10000 ед.
 Кол-во продукта в заказе не более 30ед., а также не превышающее значение кол-ва
товара.
 Не дублировать одни и те же позиции заказа. (связь М:М не должна дублироваться,
к примеру: у пользователя id=5 уже есть заказ продукта id=7, при повторной
попытке внести данный продукт в заказ пользователь получает ошибку).
Пользователи(Users)
Фамилия (second_name) Символьный( до 100 символов)
Имя (first_name) Символьный( до 100 символов)
Год рождения (year) Целочисленный
Информация о пользователе(UserInfo) – тип 1:1
Email (email) Символьный( до 100 символов)
Адрес (address) Символьный( до 300 символов)
Внешний ключ пользователь (UserId)
Продукт(Product)
Наименование (name) Символьный( до 100 символов)
Описание (description) Текстовый
Кол-во (count) Целочисленный
Цена (price) Число с точкой (8 символов всего, 2 после
запятой)
Заказы(Orders) – тип М:М
Внешний ключ пользователь (UserId) Внешний ключ FK
Внешний ключ продукт (ProductId) Внешний ключ FK
Кол-во (Count) Целочисленный
Анонимный отзыв(Comment) – тип 1:М
Текст(text) Текстовый
Внешний ключ продукт (ProductId) Внешний ключ FK

ЗАДАНИЕ 2.4
Используя БД sakila, реализовать следующие запросы.

1. Вывести объединенные данные Country, City, Address. Получить записи вида, Страна, Город, Адрес.
2. Вывести Адрес(полный), менеджера для Store
3. Вывести данные об аренде (Какой фильм, какой магазин, полный адрес магазина, ФИО клиента и ФИО сотрудника)
4. Дополнительно! Получить данные о платежах (Какой магазин, полный адрес магазина, ФИО клиента и ФИО сотрудника, Сумма, платежный день)
5. Дополнительно! Сформировать View для запроса 4, после чего сгруппировать данные по клиентам и магазинам и вывести Общую сумму платежей